<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>From Chunks to Context</title>
  <style>
    :root {
      --bg: #0a0a0a;
      --fg: #e8e8e8;
      --accent: #6366f1;
      --muted: #888;
      --code-bg: #1a1a2e;
      --border: #333;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--fg);
      line-height: 1.6;
      font-size: 18px;
    }
    
    .slide {
      min-height: 100vh;
      padding: 4rem 2rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      max-width: 900px;
      margin: 0 auto;
      border-bottom: 1px solid var(--border);
    }
    
    .slide:last-child {
      border-bottom: none;
    }
    
    .slide.title-slide {
      text-align: center;
    }
    
    h1 {
      font-size: 2.8rem;
      font-weight: 700;
      margin-bottom: 1rem;
      letter-spacing: -0.02em;
    }
    
    h2 {
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      color: var(--accent);
      letter-spacing: -0.01em;
    }
    
    h3 {
      font-size: 1.4rem;
      font-weight: 600;
      margin-top: 2rem;
      margin-bottom: 1rem;
    }
    
    .subtitle {
      color: var(--muted);
      font-size: 1.2rem;
      font-style: italic;
    }
    
    p {
      margin-bottom: 1.2rem;
    }
    
    .quote {
      font-style: italic;
      color: var(--muted);
      border-left: 3px solid var(--accent);
      padding-left: 1.5rem;
      margin: 1.5rem 0;
    }
    
    .big-quote {
      font-size: 1.5rem;
      font-weight: 500;
      color: var(--fg);
      text-align: center;
      padding: 2rem;
      background: var(--code-bg);
      border-radius: 8px;
      margin: 2rem 0;
    }
    
    pre {
      background: var(--code-bg);
      padding: 1.5rem;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
      font-size: 0.9rem;
      line-height: 1.5;
      margin: 1.5rem 0;
    }
    
    code {
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
      background: var(--code-bg);
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-size: 0.9em;
    }
    
    ul, ol {
      margin: 1rem 0 1.5rem 1.5rem;
    }
    
    li {
      margin-bottom: 0.5rem;
    }
    
    .checkmark {
      color: #22c55e;
    }
    
    .xmark {
      color: #ef4444;
    }
    
    strong {
      color: var(--accent);
      font-weight: 600;
    }
    
    .problem {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      padding: 1.5rem;
      border-radius: 8px;
      border-left: 4px solid #ef4444;
      margin: 1.5rem 0;
    }
    
    .insight {
      background: linear-gradient(135deg, #1a1a2e 0%, #0f2027 100%);
      padding: 1.5rem;
      border-radius: 8px;
      border-left: 4px solid var(--accent);
      margin: 1.5rem 0;
    }
    
    .comparison {
      display: grid;
      gap: 1rem;
      margin: 1.5rem 0;
    }
    
    @media (min-width: 640px) {
      .comparison {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    .comparison-item {
      background: var(--code-bg);
      padding: 1.5rem;
      border-radius: 8px;
    }
    
    .comparison-item h4 {
      font-size: 1rem;
      margin-bottom: 0.75rem;
      color: var(--muted);
    }
    
    .summary-table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      font-size: 0.95rem;
    }
    
    .summary-table th,
    .summary-table td {
      padding: 0.75rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }
    
    .summary-table th {
      color: var(--muted);
      font-weight: 500;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    
    .bottom-line {
      background: linear-gradient(135deg, #1a1a2e 0%, #1e1b4b 100%);
      padding: 2rem;
      border-radius: 12px;
      margin-top: 2rem;
    }
    
    .bottom-line ol {
      margin-left: 1.2rem;
    }
    
    .bottom-line li {
      margin-bottom: 0.75rem;
    }
    
    .nav {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      display: flex;
      gap: 0.5rem;
      z-index: 100;
    }
    
    .nav button {
      background: var(--code-bg);
      border: 1px solid var(--border);
      color: var(--fg);
      width: 48px;
      height: 48px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      transition: all 0.2s;
    }
    
    .nav button:hover {
      background: var(--accent);
      border-color: var(--accent);
    }
    
    .progress {
      position: fixed;
      top: 0;
      left: 0;
      height: 3px;
      background: var(--accent);
      z-index: 100;
      transition: width 0.1s;
    }
    
    @media (max-width: 640px) {
      .slide {
        padding: 3rem 1.5rem;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      h2 {
        font-size: 1.5rem;
      }
      
      pre {
        font-size: 0.75rem;
        padding: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="progress" id="progress"></div>
  
  <!-- Slide 1: Title -->
  <section class="slide title-slide">
    <h1>From Chunks to Context</h1>
    <p class="subtitle">The AI Retrieval Problem</p>
    <p style="margin-top: 3rem; color: var(--muted);">A teaching progression for operators thinking about AI and knowledge management</p>
  </section>

  <!-- Slide 2: The Frustration -->
  <section class="slide">
    <h2>Start Where People Are</h2>
    <p class="quote">"Claude seems to do a worse job reading across conversations."</p>
    <p>Most people's first experience with AI is a chat interface. Messages streaming by. You ask, it answers.</p>
    <p>Each message in a conversation is a <strong>chunk</strong>. Easy to visualize:</p>
    <pre>┌─────────────────────────────────┐
│ You: How should we price the   │
│      course?                   │
├─────────────────────────────────┤
│ AI: Based on market rates...   │
│     $299-500 range...          │
├─────────────────────────────────┤
│ You: What about enterprise?    │
├─────────────────────────────────┤
│ AI: For enterprise bundles...  │
└─────────────────────────────────┘</pre>
    <p>Now imagine hundreds of these conversations. You want to find something.</p>
  </section>

  <!-- Slide 3: Level 0 -->
  <section class="slide">
    <h2>Level 0: Keyword Search</h2>
    <p>You search: <code>"pricing"</code></p>
    <p><strong>What you get:</strong> Every chunk that contains the word "pricing"</p>
    <ul>
      <li>That conversation about course pricing <span class="checkmark">✓</span></li>
      <li>That conversation about your SaaS pricing strategy <span class="checkmark">✓</span></li>
      <li>That conversation about grocery prices for your wife's bakery <span class="xmark">✗</span></li>
      <li>That random mention of "pricing pressure" in an unrelated discussion <span class="xmark">✗</span></li>
    </ul>
    <div class="problem">
      <strong>The problem:</strong> Keywords match text, not meaning. You get noise. You miss relevant chunks that used different words ("cost," "rate," "what should we charge").
    </div>
  </section>

  <!-- Slide 4: Level 1 -->
  <section class="slide">
    <h2>Level 1: Embedding Space</h2>
    <p>Instead of keywords, we place each chunk in <strong>meaning space</strong>.</p>
    <pre>              BUSINESS
                  ↑
                  │
    ┌─────────────┼─────────────┐
    │  ●pricing   │  ●strategy  │
    │  ●course    │  ●clients   │
    │             │             │
FINANCIAL─────────┼─────────────→ VALUES
    │             │             │
    │  ●expenses  │  ●goals     │
    │  ●revenue   │  ●family    │
    └─────────────┼─────────────┘
                  │
              PERSONAL</pre>
    <p>Search: <code>"how much should I charge for workshops"</code></p>
    <p>→ Finds the pricing conversation even though you never said "charge" or "workshops" in that thread</p>
    <div class="insight">
      <strong>This is what embeddings do.</strong> They place chunks in n-dimensional space based on meaning, so similar concepts cluster together.
    </div>
  </section>

  <!-- Slide 5: Level 2 -->
  <section class="slide">
    <h2>Level 2: The Context Window Constraint</h2>
    <p>Here's the practical constraint: When you ask AI a question, you have limited space to give it context. Maybe 100K tokens. Maybe 200K. Not infinite.</p>
    <p>So the retrieval system has to:</p>
    <ol>
      <li>Search the embedding space</li>
      <li>Find relevant chunks</li>
      <li>Pick which ones to include</li>
      <li>Stuff them into the context window</li>
    </ol>
    <div class="big-quote">
      The question becomes: When the system retrieves a chunk, <em>what does it know</em> about that chunk?
    </div>
  </section>

  <!-- Slide 6: Chunk Alone -->
  <section class="slide">
    <h2>Level 3: Chunk Alone</h2>
    <p>The system retrieves:</p>
    <pre>"I think $299 is too low for the value we deliver, 
but $500 might price out individual buyers."</pre>
    <p>AI summarizes:</p>
    <p class="quote">"Discussion about pricing something between $299-500."</p>
    <p>That's... not wrong. But it's thin. What are we pricing? For whom? What's the context?</p>
  </section>

  <!-- Slide 7: Chunk + Thread -->
  <section class="slide">
    <h2>Level 3: Chunk in Thread</h2>
    <p>Same chunk, BUT now the system also knows:</p>
    <ul>
      <li>This thread was tagged/titled "Course Pricing Strategy"</li>
      <li>Earlier in thread: discussed competitor pricing, target audience</li>
      <li>Later in thread: decided on $299 early bird, $349 standard</li>
    </ul>
    <p>AI summarizes:</p>
    <p class="quote">"From a course pricing discussion—considering $299-500 range, weighing individual buyer accessibility against value delivery. Thread concluded with tiered pricing decision."</p>
    <div class="insight">
      <strong>Much better.</strong> The thread gives context that the chunk alone doesn't have.
    </div>
  </section>

  <!-- Slide 8: Chunk + Tree -->
  <section class="slide">
    <h2>Level 3: Chunk + Tree Structure</h2>
    <p>Now the system also knows where this conversation lives in YOUR structure:</p>
    <ul>
      <li>Under: Business / Obney / Products / AI Course / Pricing</li>
      <li>Sibling conversations: "Enterprise Pricing," "Scholarship Options"</li>
      <li>Parent context: This is a 10-week technical course for developers</li>
    </ul>
    <p>AI summarizes:</p>
    <p class="quote">"Pricing discussion for Obney's AI Engineering Course (10-week technical program). Settled on $299-500 individual range. Related threads cover enterprise bundles and scholarship access. Part of broader course launch planning."</p>
    <div class="insight">
      <strong>The tree structure tells the AI what this chunk is about without you having to explain.</strong>
    </div>
  </section>

  <!-- Slide 9: Chunk + Audience -->
  <section class="slide">
    <h2>Level 3: Chunk + Who's Asking</h2>
    <p>Now the system knows <em>you're</em> asking vs. a team member vs. an investor:</p>
    <div class="comparison">
      <div class="comparison-item">
        <h4>For you (the CEO)</h4>
        <p>"Your course pricing landed at $299 early bird / $349 standard. Enterprise at $35K/10 seats. You had concerns about underpricing—worth revisiting given recent demand signals."</p>
      </div>
      <div class="comparison-item">
        <h4>For Alex (operations)</h4>
        <p>"Course pricing is $299/$349 individual, $35K enterprise bundle. Need to set up payment processing for both tiers."</p>
      </div>
    </div>
    <div class="comparison-item" style="background: var(--code-bg); padding: 1.5rem; border-radius: 8px; margin-top: 1rem;">
      <h4>For an investor</h4>
      <p>"Course priced at $5K/seat effective rate for enterprise ($35K/10), with $299-349 individual tier for pipeline building."</p>
    </div>
    <p style="margin-top: 1.5rem;"><strong>Same underlying information. Different summary. Based on traversal path and audience.</strong></p>
  </section>

  <!-- Slide 10: Document Problem -->
  <section class="slide">
    <h2>The Document Problem</h2>
    <p>Conversations chunk naturally (each message = chunk). Documents don't.</p>
    <p>A 41-page PDF might have:</p>
    <ul>
      <li>Page 1-3: Executive summary</li>
      <li>Page 4-12: Market analysis (you don't care)</li>
      <li>Page 13-15: The three paragraphs that answer your question</li>
      <li>Page 16-41: Appendices</li>
    </ul>
    <div class="comparison">
      <div class="comparison-item">
        <h4>Embed whole document</h4>
        <p>It lands somewhere vague in meaning space. Retrieval either grabs all 41 pages (waste of context) or nothing.</p>
      </div>
      <div class="comparison-item">
        <h4>Chunk arbitrarily (every 500 words)</h4>
        <p>You might split a key paragraph across chunks. You lose section structure. A chunk from page 37 has no context.</p>
      </div>
    </div>
  </section>

  <!-- Slide 11: Intentionality -->
  <section class="slide">
    <h2>The Intentionality Requirement</h2>
    <div class="big-quote">
      Without intentionality, you get no control of the chunking strategy.
    </div>
    <p>This is why "just dump everything in the AI" doesn't work.</p>
    <div class="comparison">
      <div class="comparison-item">
        <h4>If you're intentional</h4>
        <ul>
          <li>You know documents have sections → chunk by section</li>
          <li>You know this paragraph matters → ensure it stays intact</li>
          <li>You know these three files relate → link them explicitly</li>
        </ul>
      </div>
      <div class="comparison-item">
        <h4>If you're not intentional</h4>
        <ul>
          <li>Chunking is arbitrary</li>
          <li>Retrieval is lottery</li>
          <li>AI hallucinates connections that don't exist</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Slide 12: Progression Summary -->
  <section class="slide">
    <h2>The Progression Summary</h2>
    <table class="summary-table">
      <thead>
        <tr>
          <th>What You Search</th>
          <th>What AI Knows</th>
          <th>Quality</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Keywords</td>
          <td>Just the matching text</td>
          <td>Garbage</td>
        </tr>
        <tr>
          <td>Embeddings</td>
          <td>Chunk meaning</td>
          <td>Basic</td>
        </tr>
        <tr>
          <td>+ Thread context</td>
          <td>What conversation this came from</td>
          <td>Better</td>
        </tr>
        <tr>
          <td>+ Tree structure</td>
          <td>Where it lives in your system</td>
          <td>Much better</td>
        </tr>
        <tr>
          <td>+ Who's asking</td>
          <td>What they need to know/do</td>
          <td>Tailored</td>
        </tr>
        <tr>
          <td>+ Graph connections</td>
          <td>What else relates</td>
          <td>Full context</td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- Slide 13: Agent Loop -->
  <section class="slide">
    <h2>The Agent Retrieval Loop</h2>
    <p>When an AI agent is trying to answer your question, it's not one grab. It's a loop—and the quality depends on what tools it has.</p>
    <pre>┌─────────────────────────────────────────┐
│  Is the answer in my context?           │
│            │                            │
│       no / uncertain                    │
│            ▼                            │
│  What tools do I have?                  │
│  (ranked by connectedness)              │
│                                         │
│    1. Graph traversal (best)            │
│    2. Tree-aware search                 │
│    3. Embedding search                  │
│    4. Keyword search (worst)            │
│            │                            │
│            ▼                            │
│  Try most connected tool                │
│            │                            │
│      Got results? ──no──► Fall back     │
│            │                            │
│           yes                           │
│            ▼                            │
│  Enough to answer well?                 │
│      │           │                      │
│     yes         no ──► Try again        │
│      │                                  │
│      ▼                                  │
│   Answer                                │
└─────────────────────────────────────────┘</pre>
  </section>

  <!-- Slide 14: Key Insight -->
  <section class="slide">
    <h2>Better Tools = Better Judgment</h2>
    <p>Your ability to know "do I have enough?" depends on how good your tools are.</p>
    <div class="comparison">
      <div class="comparison-item">
        <h4>With graph traversal</h4>
        <p>"I found the client, followed edges to their issues, found similar past issues, have the resolution. <strong>Yes, I have enough.</strong>"</p>
      </div>
      <div class="comparison-item">
        <h4>With keyword search</h4>
        <p>"I found 12 chunks with the word 'timeout.' Maybe one of these is relevant? <strong>Hard to know.</strong>"</p>
      </div>
    </div>
    <div class="insight">
      <strong>This is why structure matters.</strong> Without it, the agent only has the bottom-tier tools. Every retrieval is a keyword lottery.
    </div>
  </section>

  <!-- Slide 15: Two Modes -->
  <section class="slide">
    <h2>When Does This Happen? Two Modes</h2>
    <div class="comparison">
      <div class="comparison-item">
        <h4>Query Time (Synchronous)</h4>
        <p>User asks → Agent runs the loop → Retrieves → Answers</p>
        <p><strong>Pro:</strong> Always fresh, responds to exact question</p>
        <p><strong>Con:</strong> Slow, expensive, does the work every time</p>
      </div>
      <div class="comparison-item">
        <h4>Post-Processing Time (Async)</h4>
        <p>After events happen, system updates <strong>layers</strong> of enriched context</p>
        <p><strong>Pro:</strong> Fast retrieval, pre-built connections</p>
        <p><strong>Con:</strong> Requires intentional structure upfront</p>
      </div>
    </div>
  </section>

  <!-- Slide 16: Layers -->
  <section class="slide">
    <h2>The Layers</h2>
    <pre>┌─────────────────────────────────────────┐
│ QUERY                                   │
│ "What do we know about Acme's issues?"  │
└─────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────┐
│ CONNECTION LAYER                        │
│ Acme → issues: [timeout-bug, login]     │
│ timeout-bug → similar: [techstart-fix]  │
└─────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────┐
│ SUMMARY LAYER                           │
│ timeout-bug: "API timeouts on large     │
│ batches, workaround available,          │
│ similar to resolved TechStart issue"    │
└─────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────┐
│ CONTEXT LAYER                           │
│ tree: Clients/Acme/Issues               │
│ business: Q1 pilot, expansion decision  │
│ timeline: 2 weeks to decision           │
└─────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────┐
│ RAW CHUNKS                              │
│ (only if layers don't have enough)      │
└─────────────────────────────────────────┘</pre>
  </section>

  <!-- Slide 17: Intentionality Concrete -->
  <section class="slide">
    <h2>Layers Are Intentionality Made Concrete</h2>
    <p>You decide:</p>
    <ul>
      <li>What gets summarized?</li>
      <li>What connections matter?</li>
      <li>What context should persist?</li>
    </ul>
    <p>Then the system maintains those layers. And queries hit rich, pre-processed knowledge—not a pile of raw chunks.</p>
    <div class="comparison">
      <div class="comparison-item">
        <h4>Without intentional structure</h4>
        <ul>
          <li>No meaningful layers can be built</li>
          <li>Every query starts from scratch</li>
          <li>Quality is inconsistent</li>
        </ul>
      </div>
      <div class="comparison-item">
        <h4>With intentional structure</h4>
        <ul>
          <li>Layers reflect your mental model</li>
          <li>Post-processing keeps them current</li>
          <li>Queries are fast and contextualized</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Slide 18: Bottom Line -->
  <section class="slide">
    <h2>The Bottom Line</h2>
    <p>The frustration is real. Claude doesn't magically read across conversations well.</p>
    <p>But the answer isn't "find a better AI."</p>
    <div class="bottom-line">
      <p><strong>The answer is:</strong></p>
      <ol>
        <li><strong>Your conversations need structure</strong> (even just titles/tags)</li>
        <li><strong>Related threads need to be linked</strong> (not just floating in history)</li>
        <li><strong>Your tree gives context</strong> that makes every chunk more meaningful</li>
        <li><strong>Graphs let you traverse</strong> when the question crosses branches</li>
        <li><strong>Layers can be built</strong> that pre-process this context so retrieval is fast and good</li>
      </ol>
      <p style="margin-top: 1.5rem; text-align: center; font-size: 1.2rem;">
        <strong>The AI can only be as good as the structure you give it to work with.</strong>
      </p>
    </div>
  </section>

  <nav class="nav">
    <button onclick="scrollPrev()" title="Previous">↑</button>
    <button onclick="scrollNext()" title="Next">↓</button>
  </nav>

  <script>
    const slides = document.querySelectorAll('.slide');
    let currentSlide = 0;

    function updateProgress() {
      const scrollTop = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const progress = (scrollTop / docHeight) * 100;
      document.getElementById('progress').style.width = progress + '%';
    }

    function scrollToSlide(index) {
      if (index >= 0 && index < slides.length) {
        currentSlide = index;
        slides[index].scrollIntoView({ behavior: 'smooth' });
      }
    }

    function scrollNext() {
      scrollToSlide(currentSlide + 1);
    }

    function scrollPrev() {
      scrollToSlide(currentSlide - 1);
    }

    // Update current slide based on scroll position
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          currentSlide = Array.from(slides).indexOf(entry.target);
        }
      });
    }, { threshold: 0.5 });

    slides.forEach(slide => observer.observe(slide));

    window.addEventListener('scroll', updateProgress);
    
    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowDown' || e.key === ' ' || e.key === 'j') {
        e.preventDefault();
        scrollNext();
      } else if (e.key === 'ArrowUp' || e.key === 'k') {
        e.preventDefault();
        scrollPrev();
      }
    });
  </script>
</body>
</html>
